#include <stdio.h>
#include <string.h>

typedef struct {
    char estado[50];
    char codigo[20];
    char nome[50];
    float populacao; // em milhares
    float area;      // em km²
    float pib;       // em milhões
    int pontos_turisticos;
    float densidade; // hab/km²
} Carta;

void cadastrarCarta(Carta *carta, int numero) {
    printf("\nCadastro da Carta %d:\n", numero);
    printf("Estado: ");
    scanf("%49s", carta->estado);
    printf("Código da carta: ");
    scanf("%19s", carta->codigo);
    printf("Nome da cidade: ");
    scanf("%49s", carta->nome);
    printf("População (em milhares): ");
    scanf("%f", &carta->populacao);
    printf("Área (em km²): ");
    scanf("%f", &carta->area);
    printf("PIB (em milhões): ");
    scanf("%f", &carta->pib);
    printf("Número de pontos turísticos: ");
    scanf("%d", &carta->pontos_turisticos);
    
    // Calcular densidade populacional
    carta->densidade = (carta->area != 0) ? carta->populacao / carta->area : 0;
}

void exibirCarta(Carta carta) {
    printf("\nDetalhes da Carta:\n");
    printf("Estado: %s\n", carta.estado);
    printf("Código: %s\n", carta.codigo);
    printf("Cidade: %s\n", carta.nome);
    printf("População: %.2f mil habitantes\n", carta.populacao);
    printf("Área: %.2f km²\n", carta.area);
    printf("PIB: %.2f milhões\n", carta.pib);
    printf("Pontos Turísticos: %d\n", carta.pontos_turisticos);
    printf("Densidade Populacional: %.2f hab/km²\n", carta.densidade);
}

int compararCartas(Carta carta1, Carta carta2, char *atributo) {
    float valor1, valor2;
    
    if (strcmp(atributo, "populacao") == 0) {
        valor1 = carta1.populacao;
        valor2 = carta2.populacao;
    } else if (strcmp(atributo, "area") == 0) {
        valor1 = carta1.area;
        valor2 = carta2.area;
    } else if (strcmp(atributo, "pib") == 0) {
        valor1 = carta1.pib;
        valor2 = carta2.pib;
    } else if (strcmp(atributo, "pontos_turisticos") == 0) {
        valor1 = carta1.pontos_turisticos;
        valor2 = carta2.pontos_turisticos;
    } else if (strcmp(atributo, "densidade") == 0) {
        valor1 = carta1.densidade;
        valor2 = carta2.densidade;
    } else {
        return 0; // Atributo inválido - empate
    }
    
    if (strcmp(atributo, "densidade") == 0) {
        // Para densidade, o menor valor vence
        if (valor1 < valor2) return 1;
        else if (valor2 < valor1) return 2;
        else return 0;
    } else {
        // Para outros atributos, o maior valor vence
        if (valor1 > valor2) return 1;
        else if (valor2 > valor1) return 2;
        else return 0;
    }
}

int main() {
    Carta carta1, carta2;
    char atributo_comparacao[20] = "populacao"; // Pode ser alterado
    
    printf("Bem-vindo ao Super Trunfo - Países (Nível Novato)!\n");
    
    // Cadastrar duas cartas
    cadastrarCarta(&carta1, 1);
    cadastrarCarta(&carta2, 2);
    
    // Exibir as cartas cadastradas
    printf("\nCartas Cadastradas:");
    exibirCarta(carta1);
    exibirCarta(carta2);
    
    // Comparar as cartas
    int resultado = compararCartas(carta1, carta2, atributo_comparacao);
    
    // Exibir resultado
    printf("\nResultado da Comparação pelo atributo '%s':\n", atributo_comparacao);
    if (resultado == 1) {
        printf("A carta vencedora é: %s (%s)\n", carta1.nome, carta1.codigo);
    } else if (resultado == 2) {
        printf("A carta vencedora é: %s (%s)\n", carta2.nome, carta2.codigo);
    } else {
        printf("As cartas empataram no atributo selecionado.\n");
    }
    
    return 0;
}
